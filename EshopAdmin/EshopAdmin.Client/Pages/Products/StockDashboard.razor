@page "/Stock-Dashboard"


<PageTitle>Stock Dashboard</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="mt-14">
    <MudGrid Spacing="2" Class="mb-10">
        <MudItem xs="12" sm="4" md="4" lg="4" xl="4" xxl="4" Style="height:30dvh">
            <MudCard>
            <MudStack  Row = "true" Justify="Justify.SpaceBetween" Spacing="1" >
                <MudStack>
                    <MudText>Congratulations Element X </MudText>
                    <MudText>Best Seller of the month </MudText>
                    <MudText Class="mt-6">Kes 48K </MudText>
                    <MudText>78% of target </MudText>
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-8">View Sales </MudButton>
                </MudStack>
                <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
                    <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.GifBox"></MudIcon>
                 
                </MudStack>
            </MudStack>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="8" md="8" lg="8" xl="8" xxl="8" Style="height:30dvh">
          
                            <MudCard>
                  
                            <MudStack Row=true Justify="Justify.SpaceBetween">
                                <MudStack>
                                    <MudText>New Visitors</MudText>
                                    <MudText Class="mt-6">23%</MudText>
                                    <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.TrendingDown"></MudIcon>
                                </MudStack>
                               
                                
                                
                                <MudStack>
                                    <MudText>Last week</MudText>
                                     <ApexCharts.ApexChart TItem="Order">

        <ApexCharts.ApexPointSeries TItem="Order"
                         Items="Orders"
                         Name="Gross Value"
                         XValue="@(e => e.Country)"
                         YAggregate="@(e => e.Sum(e => e.GrossValue))"
                         OrderByDescending="e=>e.Y"
                         SeriesType="ApexCharts.SeriesType.Bar"
                         Color="#005ba3"
                         PointColor="e=> GetColor(e)" />
    </ApexCharts.ApexChart>
                                </MudStack>

                    <MudStack>
                        <MudText>New Visitors</MudText>
                        <MudText Class="mt-6">23%</MudText>
                        <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.TrendingDown"></MudIcon>
                    </MudStack>



                    <MudStack>
                        <MudText>Last week</MudText>
                        <ApexCharts.ApexChart TItem="Order">

                            <ApexCharts.ApexPointSeries TItem="Order"
                                                        Items="Orders"
                                                        Name="Gross Value"
                                                        XValue="@(e => e.Country)"
                                                        YAggregate="@(e => e.Sum(e => e.GrossValue))"
                                                        OrderByDescending="e=>e.Y"
                                                        SeriesType="ApexCharts.SeriesType.Line"
                                                        Color="#005ba3"
                                                        PointColor="e=> GetColor(e)" />
                        </ApexCharts.ApexChart>
                    </MudStack>

                            </MudStack>
                    </MudCard>

                   
            
        </MudItem>

      @* second layers *@
        <MudItem Class="mt-8" xs="12" sm="12" md="4" lg="4" xl="4" xxl="4" >
            <MudGrid Spacing="2">
                <MudItem xs="6" sm="3" md="6" lg="6" xl="6" xxl="6">
                    <MudCard>
                        <MudStack Row="true" Justify="Justify.SpaceBetween" Spacing="1">
                            <MudStack>
                                <MudText>Congratulations Element X </MudText>
                                <MudText>Best Seller of the month </MudText>
                                <MudText Class="mt-6">Kes 48K </MudText>
                                <MudText>78% of target </MudText>
                                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-8">View Sales </MudButton>
                            </MudStack>
                            <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
                                <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.GifBox"></MudIcon>

                            </MudStack>
                        </MudStack>
                    </MudCard>
                </MudItem>
                  <MudItem xs="6" sm="3" md="6" lg="6" xl="6" xxl="6">
                    <MudCard>
                        <MudStack Row="true" Justify="Justify.SpaceBetween" Spacing="1">
                            <MudStack>
                                <MudText>Congratulations Element X </MudText>
                                <MudText>Best Seller of the month </MudText>
                                <MudText Class="mt-6">Kes 48K </MudText>
                                <MudText>78% of target </MudText>
                                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-8">View Sales </MudButton>
                            </MudStack>
                            <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
                                <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.GifBox"></MudIcon>

                            </MudStack>
                        </MudStack>
                    </MudCard>
                </MudItem>
                <MudItem xs="6" sm="3" md="6" lg="6" xl="6" xxl="6">
                    <MudCard>
                        <MudStack Row="true" Justify="Justify.SpaceBetween" Spacing="1">
                            <MudStack>
                                <MudText>Congratulations Element X </MudText>
                                <MudText>Best Seller of the month </MudText>
                                <MudText Class="mt-6">Kes 48K </MudText>
                                <MudText>78% of target </MudText>
                                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-8">View Sales </MudButton>
                            </MudStack>
                            <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
                                <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.GifBox"></MudIcon>

                            </MudStack>
                        </MudStack>
                    </MudCard>
                </MudItem>
                <MudItem xs="6" sm="3" md="6" lg="6" xl="6" xxl="6">
                    <MudCard>
                        <MudStack Row="true" Justify="Justify.SpaceBetween" Spacing="1">
                            <MudStack>
                                <MudText>Congratulations Element X </MudText>
                                <MudText>Best Seller of the month </MudText>
                                <MudText Class="mt-6">Kes 48K </MudText>
                                <MudText>78% of target </MudText>
                                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-8">View Sales </MudButton>
                            </MudStack>
                            <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
                                <MudIcon Size="Size.Large" Icon="@Icons.Material.Filled.GifBox"></MudIcon>

                            </MudStack>
                        </MudStack>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudItem>
        <MudItem Class="mt-8" xs="12" sm="12" md="8" lg="8" xl="8" xxl="8" Style="min-height:60dvh;">

            <MudCard>

                <MudStack Row=true Justify="Justify.SpaceBetween" Style="min-height:60dvh; width:100%;">
                    
                    <MudStack >
                        

    <ApexCharts.ApexChart TItem="Order"
              Title="Total Income" Height="520" Width="390">

        <ApexCharts.ApexPointSeries TItem="Order"
                         Items="Orders"
                         Name="Gross Value"
                         SeriesType="ApexCharts.SeriesType.Line"
                         XValue="@(e => e.Country)"
                         YAggregate="@(e => e.Sum(e => e.GrossValue))"
                         OrderByDescending="e=>e.Y" />

        <ApexCharts.ApexPointSeries TItem="Order"
                         Items="Orders"
                         Name="Net Value"
                         SeriesType="ApexCharts.SeriesType.Line"
                         XValue="@(e => e.Country)"
                         YAggregate="@(e => e.Sum(e => e.GrossValue))"
                         OrderByDescending="e=>e.Y" />
    </ApexCharts.ApexChart>


                    </MudStack>

                    <MudStack>
                       <MudList T="string">
                           <MudListItem>
                                <MudText>Report</MudText>
                                <MudText>Monthly Avg. $45.578k</MudText>
                           </MudListItem>
                        </MudList>
                    </MudStack>

                </MudStack>
            </MudCard>



        </MudItem>


     
    </MudGrid>
</MudContainer>

@code {
    MudSplitter _splitter;
    double _percentage = 50;

    private List<Order> Orders { get; set; }

    private string GetColor(Order order)
    {
        if (order.Country == "France")
        {
            return "#ffd500";
        }
        return null;
    }

    public class Order
    {
        public string Country { get; set; }
        public int GrossValue { get; set; }
    }
}
